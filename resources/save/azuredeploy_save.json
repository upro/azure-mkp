{  "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",  "contentVersion": "1.0.0.0",  "parameters": {    "ResourceGroupName": {      "type": "string",      "defaultValue": "BeeshakeResourceGroup",      "metadata": {        "description": "Existing Azure resource group name. Typically use the same RG associated with your key vault"      }    },    "userStorageAccountName": {      "type": "string",      "defaultValue": "storage.beeshake.com",      "metadata": {        "description": "Name of the storage account"      }    },    "userStorageContainerName": {      "type": "string",      "defaultValue": "vhds",      "metadata": {        "description": "User storage container name"      }    },    "vmName": {      "type": "string",      "defaultValue": "vm.beeshake.com",      "metadata": {        "description": "Name of the VM"      }    },    "adminUsername": {      "type": "string",      "defaultValue": "admin",      "metadata": {        "description": "Username for the Virtual Machine."      }    },    "adminPassword": {      "type": "securestring",      "defaultValue": "admin123",      "metadata": {        "description": "Password for the Virtual Machine."      }    },    "vmNamePrefix": {      "type": "string",      "defaultValue": "Beeshake",      "metadata": {        "description": "Assign a prefix for the VM name"      }    },    "vmSize": {      "type": "string",      "defaultValue": "B1ms",      "allowedValues": [        "B1ms",        "B2s",        "B2ms",        "B4ms",        "D4_v3"      ],      "metadata": {        "description": "Select the vm size"      }    },    "location": {      "type": "string",      "defaultValue": "[resourceGroup().location]",      "metadata": {        "description": "Location for all resources."      }    },    "authenticationType": {      "type": "string",      "defaultValue": "sshPublicKey",      "allowedValues": [        "sshPublicKey",        "password"      ],      "metadata": {        "description": "Type of authentication to use on the Virtual Machine. SSH key is recommended."      }    },    "publicIPAddressName": {      "type": "string",      "defaultValue": "MyPublicIP",      "metadata": {        "description": "Public IP Address Name"      }    },    "virtualNetworkName": {      "type": "string",      "defaultValue": "MyVNET",      "metadata": {        "description": "Virtual Network Name"      }    },    "nicName": {      "type": "string",      "defaultValue": "myVMNic",      "metadata": {        "description": "Nic Name"      }    }  },  "variables": {    "addressPrefix": "10.0.0.0/16",    "subnetName": "Subnet-1",    "subnetPrefix": "10.0.0.0/24",    "publicIPAddressType": "Dynamic",    "vnetID": "[resourceId('Microsoft.Network/virtualNetworks',parameters('virtualNetworkName'))]",    "subnetRef": "[concat(variables('vnetID'),'/subnets/',variables('subnetName'))]",    "osDiskVhdName": "[concat('http://',parameters('userStorageAccountName'),'.blob.core.windows.net/',parameters('userStorageContainerName'),'/',parameters('vmName'),'osDisk.vhd')]"  },  "resources": [    {      "apiVersion": "2015-05-01-preview",      "type": "Microsoft.Network/publicIPAddresses",      "name": "[parameters('publicIPAddressName')]",      "location": "[parameters('location')]",      "properties": {        "publicIPAllocationMethod": "[variables('publicIPAddressType')]"      }    },    {      "apiVersion": "2015-05-01-preview",      "type": "Microsoft.Network/virtualNetworks",      "name": "[parameters('virtualNetworkName')]",      "location": "[parameters('location')]",      "properties": {        "addressSpace": {          "addressPrefixes": [            "[variables('addressPrefix')]"          ]        },        "subnets": [          {            "name": "[variables('subnetName')]",            "properties": {              "addressPrefix": "[variables('subnetPrefix')]"            }          }        ]      }    },    {      "apiVersion": "2015-05-01-preview",      "type": "Microsoft.Network/networkInterfaces",      "name": "[parameters('nicName')]",      "location": "[parameters('location')]",      "dependsOn": [        "[concat('Microsoft.Network/publicIPAddresses/', parameters('publicIPAddressName'))]",        "[concat('Microsoft.Network/virtualNetworks/', parameters('virtualNetworkName'))]"      ],      "properties": {        "ipConfigurations": [          {            "name": "ipconfig1",            "properties": {              "privateIPAllocationMethod": "Dynamic",              "publicIPAddress": {                "id": "[resourceId('Microsoft.Network/publicIPAddresses',parameters('publicIPAddressName'))]"              },              "subnet": {                "id": "[variables('subnetRef')]"              }            }          }        ]      }    }  ],  "outputs": {}}