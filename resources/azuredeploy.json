{  "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",  "contentVersion": "1.0.0.0",  "parameters": {    "vmName": {      "type": "string",      "defaultValue": "name.beeshake.com",      "metadata": {        "description": "Name of the VM"      }    },    "location": {      "type": "string",      "defaultValue": "[resourceGroup().location]",      "metadata": {        "description": "Location for all resources."      }    },    "productionTag": {      "type": "string",      "defaultValue": "yes",      "allowedValues": [        "yes",        "no"      ],      "metadata": {        "description": "Type of environment."      }    },    "diskSizeGB": {      "type": "string",      "defaultValue": "32"    },    "customerTag": {      "type": "string",      "metadata": {        "description": "Location for all resources."      }    },    "vmSize": {      "type": "string",      "defaultValue": "Standard_B1ms",      "allowedValues": [        "Standard_B1ms",        "Standard_B2s",        "Standard_B2ms",        "Standard_B4ms",        "Standard_D4_v3"      ],      "metadata": {        "description": "Select the vm size"      }    },    "ResourceGroupName": {      "type": "string",      "defaultValue": "BeeshakeResourceGroup",      "metadata": {        "description": "Existing Azure resource group name. Typically use the same RG associated with your key vault"      }    },    "resourceGroupId": {      "type": "String",      "defaultValue": "4e02df79-87cb-4e6c-8810-d6e2c2a7ea38",      "metadata": {        "description": "ID of the resouce group"      }    },    "resourceGroupName": {      "type": "string",      "defaultValue": "BeeshakeResourceGroup",      "metadata": {        "description": "Existing Azure resource group name. Typically use the same RG associated with your key vault"      }    },    "snapshotDiskName": {      "type": "String",      "defaultValue": "beeshake-6.0.1",      "metadata": {        "description": "Name of the disk snapshot"      }    },    "networkSecurityGroupName": {      "type": "String",      "defaultValue": "Beeshake-SG",      "metadata": {        "description": "Name of the network security group"      }    },    "virtualNetworkName": {      "type": "String",      "defaultValue": "BeeshakeResourceGroup-vnet",      "metadata": {        "description": "Name of virtual network"      }    },    "publicIPAddressName": {      "type": "String",      "defaultValue": "BeeshakeResourceGroup-vnet",      "metadata": {        "description": "Name of public IP Address"      }    }  },  "variables": {    "resourceGroup": "[concat('/subscriptions/',parameters('resourceGroupId'),'/resourceGroups/',parameters('resourceGroupName'),'/providers')]",    "snapshotDisk": "[concat(variables('resourceGroup'),'/Microsoft.Compute/snapshots/',parameters('snapshotDiskName'))]",    "networkSecurityGroup": "[concat(variables('resourceGroup'),'/Microsoft.Network/networkSecurityGroups/',parameters('networkSecurityGroupName'))]",    "virtualNetwork": "[concat(variables('resourceGroup'),'/Microsoft.Network/virtualNetworks/',parameters('virtualNetworkName'))]",    "publicIPAddress": "[concat(variables('resourceGroup'),'/Microsoft.Network/virtualNetworks/',parameters('publicIPAddressName'))]"  },  "resources": [    {      "type": "Microsoft.Compute/virtualMachines",      "apiVersion": "2020-03-01",      "name": "[parameters('vmName')]",      "location": "[parameters('location')]",      "tags": {        "product": "beeshake",        "production": "[parameters('productionTag')]",        "customer": "[parameters('customerTag')]"      },      "properties": {        "hardwareProfile": {          "vmSize": "[parameters('vmSize')]"        },        "storageProfile": {          "imageReference": {            "publisher": "Canonical",            "offer": "UbuntuServer",            "sku": "18.04-LTS",            "version": "latest"          },          "osDisk": {            "osType": "Linux",            "name": "[parameters('vmName')]",            "createOption": "FromImage",            "caching": "ReadWrite",            "creationData": {              "createOption": "Copy",              "sourceResourceId": "[variables('snapshotDisk')]"            },            "diskSizeGB": "[parameters('diskSizeGB')]"          },          "dataDisks": []        },        "osProfile": {          "computerName": "[parameters('vmName')]",          "adminUsername": "upro",          "linuxConfiguration": {            "disablePasswordAuthentication": true,            "ssh": {              "publicKeys": [                {                  "path": "/home/upro/.ssh/authorized_keys",                  "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCqOceW4e0/GM4BGo1/o3Nolh+F3oJFEipUsCwzHiPjD6E7mrAEZ3so15+ExoIhc9+vmL3qaJkdQ5D1901xmpoKnEjqsvxyJMDncwpY6EJUhKr0Jjf74QeJ9gN9BDCqHJLdINRgcwmjJ/K0mneDVC9e3aQ8YZFNJ7OHRnXrsLLGCEkiwcvEu7rKO61caKOP9Jzo5Uuoq7qa/MnY3q8evbZb+5E81C5yPXqkmJyoZNEqe5ZqoFqC2Lk0fSsrR3dxyDf5Msl32Tcpl6NeyEQESvS2isWxtEEuP88NlAyJxzw6GNeSN5YlaQyviOOlK8QfbpdD/8xRdKhxMGbkgcU2nTpd ysaid@u-pro.fr"                }              ]            },            "provisionVMAgent": true          },          "secrets": [],          "allowExtensionOperations": true,          "requireGuestProvisionSignal": true        },        "networkProfile": {          "networkInterfaces": [            {              "id": "[parameters('publicIPAddresses')]"            }          ]        },        "diagnosticsProfile": {          "bootDiagnostics": {            "enabled": true,            "storageUri": "https://beeshakeresourcegroupdia.blob.core.windows.net/"          }        }      }    }  ],  "outputs": {}}